entrypoint :DO_NOTHING
entrypoint :USE_ATTACK_ITEM
entrypoint :USE_HEALING_POTION



DO_NOTHING:
rewind



USE_ATTACK_ITEM:
gosub inl[:LABEL_124] ; addr

; pull element colour out of element registry
call Battle::scriptGetBentStat, stor[0], ITEM_ELEMENT, reg[1] ; r0 = item element
call Scus94491BpeSegment_8002::scriptReadRegistryEntryVar, id[lod_core:elements], reg[1], 0, stor[8] ; s8 = packed element rgb

gosub inl[:THROW_ATTACK_ITEM] ; addr
call Battle::scriptTickDeffLoadingStage, 0x1 ; loadingStage
call Battle::scriptTickDeffLoadingStage, 0x2 ; loadingStage
call Battle::scriptTickDeffLoadingStage, 0x3 ; loadingStage
gosub inl[:LABEL_128] ; addr
gosub inl[:LABEL_436] ; addr
mov 0xa, stor[23] ; source, dest
wait stor[23] ; frames
return



USE_HEALING_POTION:
jmp inl[:LABEL_143] ; addr



#include player_combat_script.txt
